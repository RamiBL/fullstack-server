{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["url","getAll","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","setPersons","response","wrap","_context","prev","next","axios","get","sent","abrupt","data","stop","_x","apply","this","arguments","Numbers","persons","newFilter","handleRemove","filtered","filter","person","undefined","name","includes","react_default","createElement","map","index","key","number","onClick","id","Filter","_ref2","handleNewFilter","value","onChange","Form","props","newName","handleNewName","newNumber","handleNewNumber","handleSubmit","type","Notification","_ref3","message","status","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Fragment","App","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","newPerson","setNewPerson","useEffect","_useState5","_useState6","setNewName","_useState7","_useState8","setNewNumber","_useState9","_useState10","setNewFilter","_useState11","_useState12","setStatus","_useState13","_useState14","setMessage","App_Notification","App_Filter","e","target","App_Form","preventDefault","findIndex","element","window","confirm","concat","_ref4","put","then","console","log","toConsumableArray","setTimeout","catch","error","replace","objectSpread","find","post","create","App_Numbers","personName","delete","remove","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.74607331.chunk.js","sourcesContent":["import axios from 'axios'\n\n\nconst url = '/api/persons'\n\n\nconst getAll = async (setPersons) => {\n    const response = await axios.get(url);\n    return setPersons(response.data);\n}\n\n\nconst create = ({newName, newNumber, setNewName, setNewNumber, setMessage, setStatus, setPersons, persons}) => {\n    const name = newName\n    \n    axios.post(url, \n              {name: newName, number: newNumber})\n          .then(response => {\n            setStatus(true)\n            console.log('response: ', response)\n            setMessage(`Succesfully created an entry for ${name}`)\n            setPersons([...persons, response.data])\n            \n\n            setTimeout(() => {\n                setMessage(null)\n            }, 5000)\n            }\n          )\n          .catch((error) => {\n              setStatus(false)\n              setMessage(error.response.data.error)\n              console.log('Error in UI: ', error.response.data.error)\n\n              setNewName('')\n              setNewNumber('')\n\n              setTimeout(() => {\n                setMessage(null)\n            }, 5000)\n          })\n}\n\nconst remove = ({id, persons, setPersons, setMessage, setStatus}) => {\n    const personName = persons.find((person) => person.id === id).name\n    axios.delete(`${url}/${id}`)\n          .then(response => {\n              setStatus(true)\n              setMessage(`Successfully removed ${personName}`)\n              setPersons(\n                   persons.filter(person => person.id !== id)\n              )\n              \n              setTimeout(() => {\n                setMessage(null)  \n              }, 5000)\n          })\n          .catch(error => {\n              setStatus(false)\n              setMessage(`Was not able to succesfully remove ${personName}`)\n              \n\n              setTimeout(() => {\n                setMessage(null)  \n              }, 5000)\n\n              console.log(error)\n            }\n          )\n}\n\nconst replace = ({person, persons, setPersons, setMessage, setStatus, setNewName, setNewNumber}) => {\n    axios.put(`${url}/${person.id}`, person)\n         .then(response => {\n            console.log(response)\n            setStatus(true)\n            setMessage(`Successfully replaced ${person.name}'s number.`)\n            setPersons(\n                [...persons.filter(element => element.id !== person.id), person]\n            )\n\n            setNewName('')\n            setNewNumber('')\n\n            setTimeout(() => {\n                setMessage(null)\n                }, 5000)\n            }\n        )\n        .catch((error) => {\n            setStatus(false)\n            setMessage(`Was not able to successfully replace ${person.name}'s number.`)\n\n            setTimeout(() => {\n                setMessage(null)\n            }, 5000)\n            \n        })\n}\n\n\n\nexport {\n    getAll,\n    create,\n    remove,\n    replace\n}","import React, { useState, useEffect } from 'react'\nimport {getAll, create, remove, replace} from './services/persons'\n\n\n\nconst Numbers = ({ persons, newFilter, handleRemove }) => {\n  const filtered = persons.filter((person) => person !== undefined).filter((person) => person.name.includes(newFilter))\n  return (\n    <div>\n      <h2>Numbers</h2>\n    <table>\n      <tbody>\n        {filtered.map((person, index) => \n        (<tr key={index}>\n          <td>\n            {person.name}\n          </td>\n          <td>\n            {person.number}\n          </td>\n          <td>\n            <button onClick={handleRemove(person.id)}>remove</button>\n          </td>\n        </tr>))}\n      </tbody>\n    </table>\n    </div>\n  )\n}\n\nconst Filter = ({ newFilter, handleNewFilter}) => {\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      filter: <input value={newFilter} onChange={handleNewFilter}/>\n    </div>\n  )\n}\n\nconst Form = (props) => {\n  const {newName, handleNewName, newNumber, handleNewNumber, handleSubmit} = props\n  return (\n    <form>\n        <h2>Add numbers</h2>\n        <div>\n          name: <input value={newName} onChange={handleNewName}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNewNumber}/>\n        </div>\n        <div>\n          <button type=\"submit\" onClick={handleSubmit}>add</button>\n        </div>\n    </form>\n  )\n}\n\nconst Notification = ({message, status}) => {\n  const successNotification = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  \n  const errorNotification = {\n    color: 'red',\n    background: 'darkgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  if(message !== null) {\n    return (\n      <div style={status ? successNotification : errorNotification}>\n        {message}\n      </div>\n    )\n  }\n  return (\n    <></>\n  )\n\n}\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState()\n\n  useEffect(() => {\n    getAll(setPersons)\n  }, [newPerson])\n  \n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n\n  const [ status, setStatus ] = useState()\n  const [ message, setMessage ] = useState(null)\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleNewFilter = (e) => {\n    setNewFilter(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    if(persons.findIndex(element => element.name === newName) !== -1 ) {\n      if(window.confirm(`${newName} is already in the phonebook. Would you like to replace the old number?`)) {\n        replace({person: {...persons.find(person => person.name === newName), number: newNumber}, \n                persons, \n                setPersons,\n                setMessage,\n                setStatus,\n                setNewName,\n                setNewNumber})\n        return\n      }\n    }\n    setNewPerson({name: newName, number: newNumber})\n    setPersons(persons.concat(newPerson))\n    \n    create({newName, newNumber, setNewName, setNewNumber, setMessage, setStatus, setPersons, persons})\n  }\n\n  const handleRemove = (id) => () => {\n    if(window.confirm(`Are you sure you want to remove ${persons.find(person => person.id === id).name}?`)){\n      remove({id, persons, setPersons, setStatus, setMessage})\n    }\n  }\n\n  \n  return (\n    <div>\n      <Notification message={message} status={status} />\n      <Filter newFilter={ newFilter } \n              handleNewFilter={ handleNewFilter }/>\n\n      <Form newName={ newName } \n            handleNewName={ handleNewName } \n            newNumber={ newNumber } \n            handleNewNumber={ handleNewNumber }\n            handleSubmit={ handleSubmit } />\n\n      <Numbers persons={ persons } \n               newFilter={ newFilter }\n               handleRemove={ handleRemove} />\n    </div>\n  )\n}\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}